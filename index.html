<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competency Maturity Model 2024</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #d97706;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        .subtitle {
            color: #6b7280;
            text-align: center;
            margin-bottom: 30px;
        }
        .filters {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .filter-btn {
            padding: 10px 20px;
            background: #f3f4f6;
            color: #374151;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: normal;
            transition: all 0.2s;
        }
        .filter-btn:hover {
            background: #e5e7eb;
        }
        .filter-btn.active {
            background: #d97706;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(217, 119, 6, 0.3);
        }
        .chart-container {
            position: relative;
            height: 500px;
            margin-bottom: 40px;
        }
        .scale-legend {
            background: #f9fafb;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .scale-legend h3 {
            color: #374151;
            margin-bottom: 20px;
        }
        .scale-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 12px;
        }
        .scale-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        .scale-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }
        .insights {
            background: #fef3c7;
            padding: 24px;
            border-radius: 12px;
            border: 2px solid #fbbf24;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .insights h3 {
            color: #92400e;
            margin-bottom: 15px;
        }
        .insights ul {
            color: #78350f;
            line-height: 1.8;
            padding-left: 24px;
        }
        .insights strong {
            font-weight: 600;
        }
        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { padding: 20px; }
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Competency Maturity Model (2024)</h1>
        <p class="subtitle">Visual Overview of Current vs Target Maturity Levels</p>
        
        <div class="filters" id="filters"></div>
        
        <div class="chart-container">
            <canvas id="radarChart"></canvas>
        </div>
        
        <div class="scale-legend">
            <h3>Maturity Scale</h3>
            <div class="scale-grid" id="scaleLegend"></div>
        </div>
        
        <div class="insights" id="insights"></div>
    </div>

    <script>
        const competencyData = [
            { competency: 'Product Design (Commercial)', current: 3, target: 6, domain: 'Product' },
            { competency: 'CO2 Design & Dev', current: 3, target: 6, domain: 'Technical' },
            { competency: 'Controls Development', current: 3, target: 6, domain: 'Technical' },
            { competency: 'Product Design (Industrial)', current: 2, target: 5, domain: 'Product' },
            { competency: 'CO2 Operability', current: 2, target: 5, domain: 'Operations' },
            { competency: 'CO2 Installation', current: 4, target: 6, domain: 'Operations' },
            { competency: 'CO2 Design (Industrial HVAC)', current: 2, target: 5, domain: 'Technical' },
            { competency: 'CO2 Design (Commercial HVAC)', current: 3, target: 5, domain: 'Technical' },
            { competency: 'Product Development', current: 3, target: 6, domain: 'Product' },
            { competency: 'Technology Development', current: 4, target: 6, domain: 'Technical' },
            { competency: 'Technical PM', current: 2, target: 5, domain: 'Management' },
            { competency: 'Technical Program Mgmt', current: 4, target: 6, domain: 'Management' },
            { competency: 'Refrigerant Management', current: 5, target: 6, domain: 'Operations' },
            { competency: 'Software Development', current: 5, target: 6, domain: 'Technical' },
        ];

        const maturityLevels = [
            { level: 1, name: 'Developed', color: '#ef4444' },
            { level: 2, name: 'Demonstrated', color: '#f97316' },
            { level: 3, name: 'Proof', color: '#eab308' },
            { level: 4, name: 'Acknowledged', color: '#84cc16' },
            { level: 5, name: 'Leadership', color: '#22c55e' },
            { level: 6, name: 'Scaled', color: '#059669' },
        ];

        const domains = ['all', 'Product', 'Technical', 'Operations', 'Management'];
        let currentDomain = 'all';
        let chart = null;

        // Render scale legend
        const scaleLegend = document.getElementById('scaleLegend');
        maturityLevels.forEach(level => {
            const item = document.createElement('div');
            item.className = 'scale-item';
            item.innerHTML = `
                <div class="scale-color" style="background-color: ${level.color}"></div>
                <span><strong>${level.level}:</strong> ${level.name}</span>
            `;
            scaleLegend.appendChild(item);
        });

        // Render filters
        const filtersContainer = document.getElementById('filters');
        domains.forEach(domain => {
            const btn = document.createElement('button');
            btn.className = 'filter-btn' + (domain === 'all' ? ' active' : '');
            btn.textContent = domain === 'all' ? 'All Competencies' : domain;
            btn.onclick = () => {
                currentDomain = domain;
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                updateChart();
            };
            filtersContainer.appendChild(btn);
        });

        function getFilteredData() {
            return currentDomain === 'all' 
                ? competencyData 
                : competencyData.filter(d => d.domain === currentDomain);
        }

        function updateInsights() {
            const filtered = getFilteredData();
            const criticalGaps = filtered.filter(d => (d.target - d.current) >= 3).length;
            const moderateGaps = filtered.filter(d => (d.target - d.current) === 2).length;
            const nearTarget = filtered.filter(d => (d.target - d.current) <= 1).length;

            document.getElementById('insights').innerHTML = `
                <h3>ðŸ“Š Key Insights</h3>
                <ul>
                    <li><strong>ðŸ”´ Critical Gaps (3+ levels):</strong> ${criticalGaps} competencies</li>
                    <li><strong>ðŸŸ¡ Moderate Gaps (2 levels):</strong> ${moderateGaps} competencies</li>
                    <li><strong>ðŸŸ¢ Near Target (0-1 level):</strong> ${nearTarget} competencies</li>
                </ul>
            `;
        }

        function updateChart() {
            const filtered = getFilteredData();
            const labels = filtered.map(d => d.competency);
            const currentData = filtered.map(d => d.current);
            const targetData = filtered.map(d => d.target);

            if (chart) {
                chart.data.labels = labels;
                chart.data.datasets[0].data = currentData;
                chart.data.datasets[1].data = targetData;
                chart.update();
            } else {
                const ctx = document.getElementById('radarChart').getContext('2d');
                chart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'Current Level',
                                data: currentData,
                                borderColor: '#3b82f6',
                                backgroundColor: 'rgba(59, 130, 246, 0.3)',
                                borderWidth: 2,
                                pointBackgroundColor: '#3b82f6',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: '#3b82f6'
                            },
                            {
                                label: 'Target Level',
                                data: targetData,
                                borderColor: '#8b5cf6',
                                backgroundColor: 'rgba(139, 92, 246, 0.1)',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                pointBackgroundColor: '#8b5cf6',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: '#8b5cf6'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                min: 0,
                                max: 6,
                                ticks: {
                                    stepSize: 1,
                                    color: '#6b7280'
                                },
                                pointLabels: {
                                    color: '#374151',
                                    font: {
                                        size: 11
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    padding: 20,
                                    font: {
                                        size: 14
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const dataIndex = context.dataIndex;
                                        const item = filtered[dataIndex];
                                        const gap = item.target - item.current;
                                        return [
                                            `${context.dataset.label}: ${context.parsed.r}`,
                                            `Gap: ${gap} level${gap !== 1 ? 's' : ''}`
                                        ];
                                    }
                                }
                            }
                        }
                    }
                });
            }

            updateInsights();
        }

        // Initialize
        updateChart();
    </script>
</body>
</html>